{"version":3,"file":"TrainingPage-yLRNMBjA.js","sources":["../../src/hooks/useSamples.ts","../../src/pages/TrainingPage.tsx"],"sourcesContent":["/**\n * useSamples - React hook for sample management\n *\n * Provides:\n * - Sample CRUD operations\n * - Sample retrieval by room\n * - Training readiness checks\n */\n\nimport { useState, useCallback, useEffect } from 'react';\nimport {\n  Sample,\n  SampleMetadata,\n  createSample,\n  getSamplesForRoom,\n  getAllSamples,\n  deleteSample,\n  deleteSamplesForRoom,\n  canTrain,\n  getTrainingData,\n} from '../storage';\n\nexport interface UseSamplesState {\n  samples: Sample[];\n  isLoading: boolean;\n  error: string | null;\n  canTrain: boolean;\n  trainingMessage: string;\n}\n\nexport interface TrainingReadiness {\n  canTrain: boolean;\n  roomCount: number;\n  readyRooms: number;\n  totalSamples: number;\n  message: string;\n}\n\nexport interface UseSamplesReturn {\n  state: UseSamplesState;\n  addSample: (roomId: string, features: number[], metadata: SampleMetadata) => Promise<Sample | null>;\n  removeSample: (id: string) => Promise<boolean>;\n  removeSamplesForRoom: (roomId: string) => Promise<number>;\n  getSamplesForRoom: (roomId: string) => Promise<Sample[]>;\n  checkTrainingReadiness: () => Promise<TrainingReadiness>;\n  getTrainingData: () => Promise<{ features: number[][]; labels: string[]; roomIds: string[] }>;\n  refreshSamples: () => Promise<void>;\n}\n\nexport function useSamples(): UseSamplesReturn {\n  const [state, setState] = useState<UseSamplesState>({\n    samples: [],\n    isLoading: true,\n    error: null,\n    canTrain: false,\n    trainingMessage: 'Loading...',\n  });\n\n  /**\n   * Refresh all samples and training readiness\n   */\n  const refreshSamples = useCallback(async () => {\n    setState((prev) => ({ ...prev, isLoading: true, error: null }));\n\n    try {\n      const [samples, trainability] = await Promise.all([\n        getAllSamples(),\n        canTrain(),\n      ]);\n\n      setState({\n        samples,\n        isLoading: false,\n        error: null,\n        canTrain: trainability.canTrain,\n        trainingMessage: trainability.message,\n      });\n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Failed to load samples';\n      setState((prev) => ({\n        ...prev,\n        isLoading: false,\n        error: message,\n      }));\n    }\n  }, []);\n\n  // Load samples on mount\n  useEffect(() => {\n    refreshSamples();\n  }, [refreshSamples]);\n\n  /**\n   * Add a new sample for a room\n   */\n  const addSample = useCallback(async (\n    roomId: string,\n    features: number[],\n    metadata: SampleMetadata\n  ): Promise<Sample | null> => {\n    try {\n      const sample = await createSample(roomId, features, metadata);\n\n      // Update local state\n      setState((prev) => ({\n        ...prev,\n        samples: [...prev.samples, sample],\n        error: null,\n      }));\n\n      // Refresh training readiness\n      const trainability = await canTrain();\n      setState((prev) => ({\n        ...prev,\n        canTrain: trainability.canTrain,\n        trainingMessage: trainability.message,\n      }));\n\n      return sample;\n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Failed to save sample';\n      setState((prev) => ({ ...prev, error: message }));\n      return null;\n    }\n  }, []);\n\n  /**\n   * Remove a sample\n   */\n  const removeSample = useCallback(async (id: string): Promise<boolean> => {\n    try {\n      await deleteSample(id);\n\n      // Update local state\n      setState((prev) => ({\n        ...prev,\n        samples: prev.samples.filter((s) => s.id !== id),\n        error: null,\n      }));\n\n      // Refresh training readiness\n      const trainability = await canTrain();\n      setState((prev) => ({\n        ...prev,\n        canTrain: trainability.canTrain,\n        trainingMessage: trainability.message,\n      }));\n\n      return true;\n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Failed to delete sample';\n      setState((prev) => ({ ...prev, error: message }));\n      return false;\n    }\n  }, []);\n\n  /**\n   * Remove all samples for a room\n   */\n  const removeSamplesForRoomFn = useCallback(async (roomId: string): Promise<number> => {\n    try {\n      const count = await deleteSamplesForRoom(roomId);\n\n      // Update local state\n      setState((prev) => ({\n        ...prev,\n        samples: prev.samples.filter((s) => s.roomId !== roomId),\n        error: null,\n      }));\n\n      // Refresh training readiness\n      const trainability = await canTrain();\n      setState((prev) => ({\n        ...prev,\n        canTrain: trainability.canTrain,\n        trainingMessage: trainability.message,\n      }));\n\n      return count;\n    } catch (error) {\n      const message = error instanceof Error ? error.message : 'Failed to delete samples';\n      setState((prev) => ({ ...prev, error: message }));\n      return 0;\n    }\n  }, []);\n\n  /**\n   * Get samples for a specific room\n   */\n  const getSamplesForRoomFn = useCallback(async (roomId: string): Promise<Sample[]> => {\n    try {\n      return await getSamplesForRoom(roomId);\n    } catch (error) {\n      console.error('Failed to get samples for room:', error);\n      return [];\n    }\n  }, []);\n\n  /**\n   * Check training readiness\n   */\n  const checkTrainingReadiness = useCallback(async (): Promise<TrainingReadiness> => {\n    const result = await canTrain();\n    setState((prev) => ({\n      ...prev,\n      canTrain: result.canTrain,\n      trainingMessage: result.message,\n    }));\n    return result;\n  }, []);\n\n  /**\n   * Get training data (features and labels)\n   */\n  const getTrainingDataFn = useCallback(async () => {\n    return await getTrainingData();\n  }, []);\n\n  return {\n    state,\n    addSample,\n    removeSample,\n    removeSamplesForRoom: removeSamplesForRoomFn,\n    getSamplesForRoom: getSamplesForRoomFn,\n    checkTrainingReadiness,\n    getTrainingData: getTrainingDataFn,\n    refreshSamples,\n  };\n}\n","import { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport {\n  useRooms,\n  useAudioEngine,\n  useSamples,\n  useRoomClassifier,\n  RoomWithSampleCount,\n} from '../hooks';\nimport { ChirpMode } from '../audio';\n\ntype ViewState = 'list' | 'add-room' | 'capture' | 'training';\n\nexport default function TrainingPage() {\n  const { state: roomsState, addRoom, removeRoom, refreshRooms } = useRooms();\n  const { state: audioState, capture, requestPermission, reset: resetAudio } = useAudioEngine();\n  const { state: samplesState, addSample, getTrainingData, refreshSamples } = useSamples();\n  const { state: classifierState, train } = useRoomClassifier();\n\n  const [viewState, setViewState] = useState<ViewState>('list');\n  const [newRoomName, setNewRoomName] = useState('');\n  const [selectedRoom, setSelectedRoom] = useState<RoomWithSampleCount | null>(null);\n  const [chirpMode, setChirpMode] = useState<ChirpMode>('audible');\n  const [captureCount, setCaptureCount] = useState(0);\n\n  // Refresh rooms when samples change\n  useEffect(() => {\n    if (viewState === 'list') {\n      refreshRooms();\n    }\n  }, [viewState, refreshRooms]);\n\n  // Handle adding a new room\n  const handleAddRoom = async () => {\n    if (!newRoomName.trim()) return;\n\n    const room = await addRoom(newRoomName.trim());\n    if (room) {\n      setNewRoomName('');\n      setViewState('list');\n    }\n  };\n\n  // Handle starting capture for a room\n  const handleStartCapture = async (room: RoomWithSampleCount) => {\n    setSelectedRoom(room);\n    setCaptureCount(0);\n\n    // Request permission if needed\n    if (!audioState.hasPermission) {\n      const granted = await requestPermission();\n      if (!granted) return;\n    }\n\n    setViewState('capture');\n  };\n\n  // Handle a single capture\n  const handleCapture = async () => {\n    if (!selectedRoom) return;\n\n    resetAudio();\n    const features = await capture(chirpMode);\n\n    if (features) {\n      // Save the sample\n      await addSample(selectedRoom.id, features.raw, {\n        chirpMode,\n        duration: chirpMode === 'audible' ? 500 : 300, // ms\n        sampleRate: 48000,\n        deviceInfo: navigator.userAgent,\n      });\n\n      setCaptureCount((c) => c + 1);\n      await refreshRooms();\n    }\n  };\n\n  // Handle training\n  const handleTrain = async () => {\n    setViewState('training');\n\n    const { features, labels, roomIds } = await getTrainingData();\n    await train(features, labels, roomIds);\n    await refreshSamples();\n\n    // Stay on training view to show results\n  };\n\n  // Handle deleting a room\n  const handleDeleteRoom = async (roomId: string) => {\n    if (confirm('Delete this room and all its samples?')) {\n      await removeRoom(roomId);\n    }\n  };\n\n  // Render Add Room Modal\n  if (viewState === 'add-room') {\n    return (\n      <div className=\"page safe-top\">\n        <header className=\"flex items-center gap-4 mb-6\">\n          <button onClick={() => setViewState('list')} className=\"btn-ghost p-2\">\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </button>\n          <h1 className=\"text-xl font-bold\">Add Room</h1>\n        </header>\n\n        <div className=\"max-w-md mx-auto\">\n          <div className=\"card\">\n            <label className=\"block mb-2 text-sm font-medium text-gray-300\">\n              Room Name\n            </label>\n            <input\n              type=\"text\"\n              value={newRoomName}\n              onChange={(e) => setNewRoomName(e.target.value)}\n              placeholder=\"e.g., Living Room, Kitchen\"\n              className=\"w-full px-4 py-3 bg-dark-700 border border-dark-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-500\"\n              autoFocus\n            />\n\n            {roomsState.error && (\n              <p className=\"mt-2 text-sm text-red-400\">{roomsState.error}</p>\n            )}\n\n            <button\n              onClick={handleAddRoom}\n              disabled={!newRoomName.trim()}\n              className=\"btn-primary w-full mt-4\"\n            >\n              Create Room\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Render Capture View\n  if (viewState === 'capture' && selectedRoom) {\n    return (\n      <div className=\"page safe-top\">\n        <header className=\"flex items-center gap-4 mb-6\">\n          <button onClick={() => setViewState('list')} className=\"btn-ghost p-2\">\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </button>\n          <h1 className=\"text-xl font-bold\">Capture: {selectedRoom.name}</h1>\n        </header>\n\n        <div className=\"max-w-md mx-auto\">\n          {/* Capture Status */}\n          <div className=\"card text-center mb-6\">\n            <div className=\"text-6xl font-bold text-primary-400 mb-2\">\n              {selectedRoom.sampleCount + captureCount}\n            </div>\n            <p className=\"text-gray-400\">samples captured</p>\n            {captureCount > 0 && (\n              <p className=\"text-sm text-accent-400 mt-1\">+{captureCount} this session</p>\n            )}\n          </div>\n\n          {/* Chirp Mode Selection */}\n          <div className=\"card mb-6\">\n            <h2 className=\"section-title\">Chirp Mode</h2>\n            <div className=\"grid grid-cols-2 gap-2\">\n              <button\n                onClick={() => setChirpMode('audible')}\n                className={`py-2 px-4 rounded-lg transition-colors ${\n                  chirpMode === 'audible'\n                    ? 'bg-primary-600 text-white'\n                    : 'bg-dark-700 text-gray-400'\n                }`}\n              >\n                Audible\n              </button>\n              <button\n                onClick={() => setChirpMode('ultrasonic')}\n                className={`py-2 px-4 rounded-lg transition-colors ${\n                  chirpMode === 'ultrasonic'\n                    ? 'bg-primary-600 text-white'\n                    : 'bg-dark-700 text-gray-400'\n                }`}\n              >\n                Ultrasonic\n              </button>\n            </div>\n            <p className=\"text-xs text-gray-500 mt-2\">\n              {chirpMode === 'audible'\n                ? 'Higher accuracy, audible sound (200Hz-18kHz)'\n                : 'Less audible, reduced accuracy (15kHz-20kHz)'}\n            </p>\n          </div>\n\n          {/* Capture Button */}\n          <button\n            onClick={handleCapture}\n            disabled={audioState.captureState === 'capturing' || audioState.captureState === 'processing'}\n            className={`w-full py-6 rounded-xl text-xl font-bold transition-all ${\n              audioState.captureState === 'capturing' || audioState.captureState === 'processing'\n                ? 'bg-accent-600 text-white animate-pulse'\n                : 'bg-primary-600 hover:bg-primary-500 text-white glow-primary'\n            }`}\n          >\n            {audioState.captureState === 'idle' && (\n              <span className=\"flex items-center justify-center gap-3\">\n                <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\" />\n                </svg>\n                Tap to Capture\n              </span>\n            )}\n            {audioState.captureState === 'capturing' && 'Listening...'}\n            {audioState.captureState === 'processing' && 'Processing...'}\n            {audioState.captureState === 'complete' && (\n              <span className=\"flex items-center justify-center gap-2\">\n                <svg className=\"w-6 h-6 text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                </svg>\n                Saved! Tap for more\n              </span>\n            )}\n          </button>\n\n          {audioState.error && (\n            <p className=\"mt-4 text-center text-red-400 text-sm\">{audioState.error}</p>\n          )}\n\n          {/* Tips */}\n          <div className=\"card mt-6\">\n            <h2 className=\"section-title\">Capture Tips</h2>\n            <ul className=\"text-sm text-gray-400 space-y-2\">\n              <li className=\"flex gap-2\">\n                <span className=\"text-accent-400\">•</span>\n                Hold phone steady at chest height\n              </li>\n              <li className=\"flex gap-2\">\n                <span className=\"text-accent-400\">•</span>\n                Try different positions in the room\n              </li>\n              <li className=\"flex gap-2\">\n                <span className=\"text-accent-400\">•</span>\n                Minimize background noise\n              </li>\n            </ul>\n          </div>\n\n          {/* Done Button */}\n          <button\n            onClick={() => setViewState('list')}\n            className=\"btn-secondary w-full mt-4\"\n          >\n            Done Capturing\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Render Training View\n  if (viewState === 'training') {\n    const progress = classifierState.trainingProgress;\n    const result = classifierState.lastTrainingResult;\n\n    return (\n      <div className=\"page safe-top\">\n        <header className=\"flex items-center gap-4 mb-6\">\n          <button onClick={() => setViewState('list')} className=\"btn-ghost p-2\">\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </button>\n          <h1 className=\"text-xl font-bold\">Training Model</h1>\n        </header>\n\n        <div className=\"max-w-md mx-auto\">\n          <div className=\"card\">\n            {classifierState.isTraining && progress && (\n              <>\n                <div className=\"text-center mb-6\">\n                  <div className=\"text-4xl font-bold text-primary-400 mb-1\">\n                    {Math.round((progress.epoch / progress.totalEpochs) * 100)}%\n                  </div>\n                  <p className=\"text-gray-400\">\n                    Epoch {progress.epoch}/{progress.totalEpochs}\n                  </p>\n                </div>\n\n                {/* Progress Bar */}\n                <div className=\"w-full h-3 bg-dark-700 rounded-full overflow-hidden mb-4\">\n                  <div\n                    className=\"h-full bg-gradient-to-r from-primary-600 to-accent-500 transition-all duration-300\"\n                    style={{ width: `${(progress.epoch / progress.totalEpochs) * 100}%` }}\n                  />\n                </div>\n\n                {/* Stats */}\n                <div className=\"grid grid-cols-2 gap-4 text-center\">\n                  <div>\n                    <p className=\"text-2xl font-bold text-accent-400\">\n                      {(progress.accuracy * 100).toFixed(1)}%\n                    </p>\n                    <p className=\"text-sm text-gray-500\">Accuracy</p>\n                  </div>\n                  <div>\n                    <p className=\"text-2xl font-bold text-gray-300\">\n                      {progress.loss.toFixed(4)}\n                    </p>\n                    <p className=\"text-sm text-gray-500\">Loss</p>\n                  </div>\n                </div>\n              </>\n            )}\n\n            {!classifierState.isTraining && result && (\n              <>\n                <div className=\"text-center mb-6\">\n                  {result.success ? (\n                    <>\n                      <svg className=\"w-16 h-16 mx-auto text-green-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                      <h2 className=\"text-xl font-bold text-green-400\">Training Complete!</h2>\n                    </>\n                  ) : (\n                    <>\n                      <svg className=\"w-16 h-16 mx-auto text-red-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      </svg>\n                      <h2 className=\"text-xl font-bold text-red-400\">Training Failed</h2>\n                      <p className=\"text-gray-400 mt-2\">{result.error}</p>\n                    </>\n                  )}\n                </div>\n\n                {result.success && (\n                  <div className=\"grid grid-cols-2 gap-4 text-center mb-6\">\n                    <div>\n                      <p className=\"text-2xl font-bold text-accent-400\">\n                        {(result.finalAccuracy * 100).toFixed(1)}%\n                      </p>\n                      <p className=\"text-sm text-gray-500\">Final Accuracy</p>\n                    </div>\n                    <div>\n                      <p className=\"text-2xl font-bold text-gray-300\">\n                        {result.epochs}\n                      </p>\n                      <p className=\"text-sm text-gray-500\">Epochs</p>\n                    </div>\n                  </div>\n                )}\n\n                <button\n                  onClick={() => setViewState('list')}\n                  className=\"btn-primary w-full\"\n                >\n                  {result.success ? 'Start Detecting' : 'Back to Training'}\n                </button>\n              </>\n            )}\n\n            {!classifierState.isTraining && !result && (\n              <div className=\"text-center py-8\">\n                <div className=\"animate-spin w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full mx-auto mb-4\" />\n                <p className=\"text-gray-400\">Preparing training data...</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Render Room List (default)\n  return (\n    <div className=\"page safe-top\">\n      {/* Header */}\n      <header className=\"flex items-center gap-4 mb-6\">\n        <Link to=\"/\" className=\"btn-ghost p-2\">\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n          </svg>\n        </Link>\n        <h1 className=\"text-xl font-bold\">Train Rooms</h1>\n      </header>\n\n      <div className=\"max-w-md mx-auto\">\n        {/* Add Room Button */}\n        <button\n          onClick={() => setViewState('add-room')}\n          className=\"btn-primary w-full mb-6\"\n        >\n          <span className=\"flex items-center justify-center gap-2\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n            </svg>\n            Add New Room\n          </span>\n        </button>\n\n        {/* Loading State */}\n        {roomsState.isLoading && (\n          <div className=\"card text-center py-8\">\n            <div className=\"animate-spin w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full mx-auto\" />\n          </div>\n        )}\n\n        {/* Room List */}\n        {!roomsState.isLoading && roomsState.rooms.length === 0 ? (\n          <div className=\"card text-center py-12\">\n            <svg className=\"w-16 h-16 mx-auto text-gray-600 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n            </svg>\n            <h3 className=\"text-lg font-medium text-gray-300 mb-2\">No Rooms Yet</h3>\n            <p className=\"text-gray-500 text-sm\">\n              Add your first room to start training the acoustic classifier\n            </p>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {roomsState.rooms.map((room) => (\n              <div key={room.id} className=\"card\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div>\n                    <h3 className=\"font-medium\">{room.name}</h3>\n                    <p className={`text-sm ${room.sampleCount >= 5 ? 'text-green-400' : 'text-gray-500'}`}>\n                      {room.sampleCount} sample{room.sampleCount !== 1 ? 's' : ''}\n                      {room.sampleCount < 5 && ` (need ${5 - room.sampleCount} more)`}\n                    </p>\n                  </div>\n                  <button\n                    onClick={() => handleDeleteRoom(room.id)}\n                    className=\"btn-ghost p-2 text-gray-500 hover:text-red-400\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                    </svg>\n                  </button>\n                </div>\n                <button\n                  onClick={() => handleStartCapture(room)}\n                  className=\"btn-secondary w-full text-sm\"\n                >\n                  <span className=\"flex items-center justify-center gap-2\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\" />\n                    </svg>\n                    Capture Samples\n                  </span>\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Training Section */}\n        <div className=\"mt-8\">\n          <div className=\"card\">\n            <h2 className=\"section-title\">Model Training</h2>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              {samplesState.trainingMessage}\n            </p>\n            <button\n              onClick={handleTrain}\n              className=\"btn-accent w-full\"\n              disabled={!samplesState.canTrain || classifierState.isTraining}\n            >\n              {classifierState.isTraining ? 'Training...' : 'Train Model'}\n            </button>\n\n            {classifierState.modelInfo && (\n              <p className=\"text-xs text-center text-gray-500 mt-2\">\n                Current model: {classifierState.modelInfo.roomCount} rooms, {(classifierState.modelInfo.accuracy * 100).toFixed(0)}% accuracy\n              </p>\n            )}\n          </div>\n        </div>\n\n        {/* Tips */}\n        <div className=\"card mt-6\">\n          <h2 className=\"section-title\">Training Tips</h2>\n          <ul className=\"text-sm text-gray-400 space-y-2\">\n            <li className=\"flex gap-2\">\n              <span className=\"text-accent-400\">•</span>\n              Capture samples from different positions in each room\n            </li>\n            <li className=\"flex gap-2\">\n              <span className=\"text-accent-400\">•</span>\n              Keep background noise consistent during capture\n            </li>\n            <li className=\"flex gap-2\">\n              <span className=\"text-accent-400\">•</span>\n              More samples = better accuracy (10+ recommended)\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["useSamples","state","setState","useState","refreshSamples","useCallback","prev","samples","trainability","getAllSamples","canTrain","error","message","useEffect","addSample","roomId","features","metadata","sample","createSample","removeSample","id","deleteSample","s","removeSamplesForRoomFn","count","deleteSamplesForRoom","getSamplesForRoomFn","getSamplesForRoom","checkTrainingReadiness","result","getTrainingDataFn","getTrainingData","TrainingPage","roomsState","addRoom","removeRoom","refreshRooms","useRooms","audioState","capture","requestPermission","resetAudio","useAudioEngine","samplesState","classifierState","train","useRoomClassifier","viewState","setViewState","newRoomName","setNewRoomName","selectedRoom","setSelectedRoom","chirpMode","setChirpMode","captureCount","setCaptureCount","handleAddRoom","handleStartCapture","room","handleCapture","c","handleTrain","labels","roomIds","handleDeleteRoom","jsxs","jsx","e","progress","Fragment","Link"],"mappings":"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"}